<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>AVI — Contenidos de estudio</title>
    <meta name="description" content="Contenidos de estudio — Audiovisual Intelligence" />
    <link rel="preload" as="style" href="assets/styles.css" />
    <link rel="stylesheet" href="assets/styles.css" />
    <script src="assets/gate.js"></script>
  </head>
  <body class="has-bg-video">
    <!-- Fondo de video global -->
    <video class="bg-video" autoplay muted loop playsinline aria-hidden="true" preload="metadata" poster="comingsoon.gif">
      <source src="media/Materiales_de_estudio_01.mp4" type="video/mp4" />
    </video>
    <header class="site-header">
      <div class="container inner">
        <a class="brand" href="capacitaciones.html" aria-label="Inicio">AVI</a>
        <button class="hamburger" id="hamburger" aria-label="Abrir menú"><span></span></button>
      </div>
      <nav class="mobile-menu" id="mobileMenu" aria-label="Navegación principal" hidden>
        <ul class="menu-list">
          <li><a href="capacitaciones.html">Capacitaciones</a></li>
          <li><a href="quienes-somos.html">Quienes somos</a></li>
          <li><a href="contenidos.html" aria-current="page">Contenidos de estudio</a></li>
          <li><a href="clientes.html">Clientes</a></li>
          <li><a href="id-lab.html">I+D Lab</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <section class="hero container">
        <div class="eyebrow">Próximamente</div>
        <h1 class="title-xxl">Contenidos de estudio</h1>
        <p class="subtitle">Muy pronto publicaremos contenidos y programas. Manteniendo el enfoque minimalista.</p>
        <div class="spacer-md"></div>
      </section>
      <section class="container" style="text-align:center">
        <div class="resource-grid">
          <article class="resource-card" style="opacity:1;">
            <div class="resource-thumb">
              <button id="pdfPreview" class="pdf-preview" style="all:unset; display:block; width:100%; height:100%; cursor:pointer;">
                <div class="badge-pdf">PDF</div>
                <div class="thumb-label">Guía en PDF</div>
              </button>
            </div>
            <div class="resource-title">Guía Visión A.I.</div>
            <div class="resource-meta">Presentación — Español</div>
            <div class="resource-actions">
              <button id="openPdfModal" class="btn" style="padding:8px 12px">Ver</button>
              <a class="link" href="media/AVI-Presentacion_VISION_A.I._SPA_.pdf" target="_blank" rel="noopener">Abrir en pestaña</a>
            </div>
          </article>
        </div>
      </section>
      <div class="spacer-scroll"></div>
    </main>

    <footer class="site-footer">
      <div class="container">
        <a class="footer-logo" href="capacitaciones.html" aria-label="Ir a Capacitaciones">
          <video autoplay muted loop playsinline preload="none" style="opacity:0">
            <source src="media/LogoHome.mp4" type="video/mp4" />
          </video>
        </a>
        <div class="copyright">© <span id="y"></span> Audiovisual Intelligence</div>
      </div>
    </footer>
    <script>
      // Año en footer
      document.getElementById('y').textContent = new Date().getFullYear();

      // Suavizar fondo al hacer scroll y paneo vertical del video
      const softenOnScroll = () => {
        const y = window.scrollY || 0;
        if (y > 40) document.body.classList.add('bg-soften');
        else document.body.classList.remove('bg-soften');
        const docH = document.body.scrollHeight - window.innerHeight;
        const p = docH > 0 ? Math.min(Math.max(y / docH, 0), 1) : 0;
        const yPct = Math.round(p * 100);
        document.documentElement.style.setProperty('--bgY', `${yPct}%`);
      };
      softenOnScroll();
      window.addEventListener('scroll', softenOnScroll, { passive: true });
      // Modal simple para ver el PDF
      const ensurePdfModal = () => {
        let m = document.getElementById('pdfModal');
        if (m) return m;
        m = document.createElement('dialog');
        m.id = 'pdfModal';
        m.className = 'modal';
        m.innerHTML = `
          <div class="modal-backdrop" onclick="this.closest('dialog').close()"></div>
          <div class="modal-dialog">
            <div class="modal-hd">
              <div class="kicker">Presentación</div>
              <button class="btn" id="pdfClose">Cerrar</button>
            </div>
            <div class="modal-bd" style="display:block; padding:0;">
              <iframe title="Guía Visión A.I." src="media/AVI-Presentacion_VISION_A.I._SPA_.pdf#view=FitH&toolbar=0" style="width:min(96vw, 1040px); height:min(80vh, 860px); border:0; background:#0f0f0f"></iframe>
            </div>
            <div class="modal-ft">
              <a class="btn" href="media/AVI-Presentacion_VISION_A.I._SPA_.pdf" target="_blank" rel="noopener">Abrir en pestaña</a>
            </div>
          </div>`;
        document.body.appendChild(m);
        m.querySelector('#pdfClose')?.addEventListener('click', ()=>m.close());
        return m;
      };
      const openPdf = () => { const md = ensurePdfModal(); md.showModal(); };
      document.getElementById('openPdfModal')?.addEventListener('click', openPdf);
      document.getElementById('pdfPreview')?.addEventListener('click', openPdf);
      // Mostrar logo de footer solo al entrar en viewport
      if ('IntersectionObserver' in window) {
        const fl = document.querySelector('.footer-logo');
        const ioFL = new IntersectionObserver((entries)=>{
          for (const e of entries) if (e.isIntersecting) { fl.classList.add('is-visible'); fl.querySelector('video')?.style && (fl.querySelector('video').style.opacity='1'); ioFL.unobserve(fl); }
        }, {rootMargin:'0px 0px -10% 0px'});
        if (fl) ioFL.observe(fl);
      } else { document.querySelector('.footer-logo')?.classList.add('is-visible'); }
    </script>
  </body>
  
</html>
